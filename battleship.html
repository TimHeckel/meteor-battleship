<head>
	<title>Battleship</title>
</head>

<body>

  	<h1>Welcome to Battleship!</h1>

 	<p>The stupid client-only variant</p>

	{{> battleship }}

</body>

<template name="grid">
	<div class="row">
		<div class="col-md-6">
			<table>
				{{#each tiles}}
					<tr data-col="{{col}}">
						<td>{{col}}</td>
				  		{{#each rows}}
			  				<td data-col="{{../col}}" data-row="{{number}}" class="{{#if isAttempted}}attempted{{/if}} {{#if isHeader}} {{else}}fireable{{/if}} {{#if isAttemptedAHit}}hit{{/if}}">
				  				{{#if isHeader}}
				  					{{number}}
				  				{{/if}}
				  			</td>
				  		{{/each}}
					</tr>
				{{/each}}
			</table>
		</div>
		<div class="col-md-6">
			<table>
				{{#each tiles}}
					<tr data-col="{{col}}">
						<td>{{col}}</td>
				  		{{#each rows}}
				  			<td data-col="{{../col}}" data-row="{{number}}" class="{{#if isHit}}ship{{/if}} {{#if foundHit}}hit{{/if}}">
								{{#if isHeader}}
				  					{{number}}
				  				{{/if}}
			  				</td>
				  		{{/each}}
					</tr>
				{{/each}}
			</table>
		</div>
	</div>	
</template>

<template name="battleship">

	<div class="container">

		<input id="txtPlayer1Name"/>&nbsp;
		<button id="btnAddPlayer1">Add Player 1</button>

		{{#with you}}

			{{> grid}}

			<input type="text" id="txtPlayer1Col"/>&nbsp;<input type="text" id="txtPlayer1Row"/>
			<button id="btnFirePlayer1">Fire !</button>

		{{/with}}

		<hr/>

		<input id="txtPlayer2Name"/>&nbsp;
		<button id="btnAddPlayer2">Add Player 2</button>

		{{#with enemy}}

			{{> grid}}

			<input type="text" id="txtPlayer2Col"/>&nbsp;<input type="text" id="txtPlayer2Row"/>
			<button id="btnFirePlayer2">Fire !</button>

		{{/with}}

	</div>

</template>