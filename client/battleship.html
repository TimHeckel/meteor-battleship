<head>
	<title>Battleship</title>
</head>

<template name="grid">
	<div class="row">
		<div class="col-md-6">
			<h5>Shots Fired</h5>
			<table>
				{{#each tiles}}
					<tr data-col="{{col}}">
						<td>{{col}}</td>
				  		{{#each rows}}
			  				<td data-col="{{../col}}" data-row="{{number}}" class="{{#if isAttempted}}attempted{{/if}} {{#if isHeader}} {{else}}fireable{{/if}} {{#if isAttemptedAHit}}hit{{/if}}">
				  				{{#if isHeader}}
				  					{{number}}
				  				{{/if}}
				  			</td>
				  		{{/each}}
					</tr>
				{{/each}}
			</table>
		</div>
		<div class="col-md-6">
			<h5>Your Ships</h5>
			<table>
				{{#each tiles}}
					<tr data-col="{{col}}">
						<td>{{col}}</td>
				  		{{#each rows}}
				  			<td data-col="{{../col}}" data-row="{{number}}" class="{{#if isHit}}ship{{/if}} {{#if foundHit}}hit{{/if}}">
								{{#if isHeader}}
				  					{{number}}
				  				{{/if}}
			  				</td>
				  		{{/each}}
					</tr>
				{{/each}}
			</table>
		</div>
	</div>
</template>

<template name="battleship">

	<div class="container">

		{{#with you}}

			{{> grid}}

			{{#if pendingPlayer}}

				<div class="row">
					<span class="label label-danger">Hold on!</span> Waiting for another player to join...
				</div>

			{{else}}

				<div class="row margin-top-10">
					<div class="well well-sm">
						<input type="text" id="txtCol" class="input-sm input-tiny" placeholder="a" />&nbsp;<input type="text" id="txtRow" class="input-sm input-tiny" placeholder="1"/>
						<button class="btn btn-sm btn-danger" id="btnFire">Fire!</button>
					</div>
				</div>

			{{/if}}

		{{/with}}

	</div>

</template>